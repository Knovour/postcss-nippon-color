const postcss = require('postcss');

const palette = {
  NADESHIKO: "#DC9FB4",
  KOHBAI: "#E16B8C",
  SUOH: "#8E354A",
  TAIKOH: "#F8C3CD",
  IKKONZOME: "#F4A7B9",
  KUWAZOME: "#64363C",
  MOMO: "#F596AA",
  ICHIGO: "#B5495B",
  USUBENI: "#E87A90",
  IMAYOH: "#D05A6E",
  NAKABENI: "#DB4D6D",
  SAKURA: "#FEDFE1",
  UMENEZUMI: "#9E7A7A",
  KARAKURENAI: "#D0104C",
  ENJI: "#9F353A",
  KURENAI: "#CB1B45",
  TOKI: "#EEA9A9",
  CYOHSYUN: "#BF6766",
  KOKIAKE: "#86473F",
  SAKURANEZUMI: "#B19693",
  JINZAMOMI: "#EB7A77",
  AZUKI: "#954A45",
  SUOHKOH: "#A96360",
  AKABENI: "#CB4042",
  SHINSYU: "#AB3B3A",
  HAIZAKURA: "#D7C4BB",
  KURIUME: "#904840",
  EBICHA: "#734338",
  GINSYU: "#C73E3A",
  KUROTOBI: "#554236",
  BENITOBI: "#994639",
  AKEBONO: "#F19483",
  BENIKABA: "#B54434",
  MIZUGAKI: "#B9887D",
  SANGOSYU: "#F17C67",
  BENIHIWADA: "#884C3A",
  SYOJYOHI: "#E83015",
  ENTAN: "#D75455",
  SHIKANCHA: "#B55D4C",
  HIWADA: "#854836",
  KAKISHIBU: "#A35E47",
  AKE: "#CC543A",
  TOBI: "#724832",
  BENIHI: "#F75C2F",
  KURIKAWACHA: "#6A4028",
  BENGARA: "#9A5034",
  TERIGAKI: "#C46243",
  EDOCHA: "#AF5F3C",
  ARAISYU: "#FB966E",
  MOMOSHIOCHA: "#724938",
  KARACHA: "#B47157",
  TOKIGARACHA: "#DB8E71",
  OHNI: "#F05E1C",
  SOHI: "#ED784A",
  ENSYUCHA: "#CA7853",
  KABACHA: "#B35C37",
  KOGECHA: "#563F2E",
  AKAKOH: "#E3916E",
  SUZUMECHA: "#8F5A3C",
  SHISHI: "#F0A986",
  SODENKARACHA: "#A0674B",
  KABA: "#C1693C",
  KOKIKUCHINASHI: "#FB9966",
  KURUMI: "#947A6D",
  TAISYA: "#A36336",
  ARAIGAKI: "#E79460",
  KOHROZEN: "#7D532C",
  AKAKUCHIBA: "#C78550",
  TONOCHA: "#985F2A",
  AKASHIROTSURUBAMI: "#E1A679",
  SENCHA: "#855B32",
  KANZO: "#FC9F4D",
  SHAREGAKI: "#FFBA84",
  BENIUKON: "#E98B2A",
  UMEZOME: "#E9A368",
  BIWACHA: "#B17844",
  CHOJICHA: "#96632E",
  KENPOHZOME: "#43341B",
  KOHAKU: "#CA7A2C",
  USUGAKI: "#ECB88A",
  KYARA: "#78552B",
  CHOJIZOME: "#B07736",
  FUSHIZOME: "#967249",
  KUCHIBA: "#E2943B",
  KINCHA: "#C7802D",
  KITSUNE: "#9B6E23",
  SUSUTAKE: "#6E552F",
  USUKOH: "#EBB471",
  TONOKO: "#D7B98E",
  GINSUSUTAKE: "#82663A",
  OHDO: "#B68E55",
  SHIRACHA: "#BC9F77",
  KOBICHA: "#876633",
  KIGARACHA: "#C18A26",
  YAMABUKI: "#FFB11B",
  YAMABUKICHA: "#D19826",
  HAJIZOME: "#DDA52D",
  KUWACHA: "#C99833",
  TAMAGO: "#F9BF45",
  SHIROTSURUBAMI: "#DCB879",
  KITSURUBAMI: "#BA9132",
  TAMAMOROKOSHI: "#E8B647",
  HANABA: "#F7C242",
  NAMAKABE: "#7D6C46",
  TORINOKO: "#DAC9A6",
  USUKI: "#FAD689",
  KIKUCHIBA: "#D9AB42",
  KUCHINASHI: "#F6C555",
  TOHOH: "#FFC408",
  UKON: "#EFBB24",
  KARASHI: "#CAAD5F",
  HIGOSUSUTAKE: "#8D742A",
  RIKYUSHIRACHA: "#B4A582",
  AKU: "#877F6C",
  RIKYUCHA: "#897D55",
  ROKOHCHA: "#74673E",
  NATANEYU: "#A28C37",
  UGUISUCHA: "#6C6024",
  KIMIRUCHA: "#867835",
  MIRUCHA: "#62592C",
  KARIYASU: "#E9CD4C",
  NANOHANA: "#F7D94C",
  KIHADA: "#FBE251",
  MUSHIKURI: "#D9CD90",
  AOKUCHIBA: "#ADA142",
  OMINAESHI: "#DDD23B",
  HIWACHA: "#A5A051",
  HIWA: "#BEC23F",
  UGUISU: "#6C6A2D",
  YANAGICHA: "#939650",
  KOKE: "#838A2D",
  KIKUJIN: "#B1B479",
  RIKANCHA: "#616138",
  AIKOBICHA: "#4B4E2A",
  MIRU: "#5B622E",
  SENSAICHA: "#4D5139",
  BAIKOCHA: "#89916B",
  HIWAMOEGI: "#90B44B",
  YANAGIZOME: "#91AD70",
  URAYANAGI: "#B5CAA0",
  IWAICHA: "#646A58",
  MOEGI: "#7BA23F",
  NAE: "#86C166",
  YANAGISUSUTAKE: "#4A593D",
  MATSUBA: "#42602D",
  AONI: "#516E41",
  USUAO: "#91B493",
  YANAGINEZUMI: "#808F7C",
  TOKIWA: "#1B813E",
  WAKATAKE: "#5DAC81",
  CHITOSEMIDORI: "#36563C",
  MIDORI: "#227D51",
  BYAKUROKU: "#A8D8B9",
  OITAKE: "#6A8372",
  TOKUSA: "#2D6D4B",
  ONANDOCHA: "#465D4C",
  ROKUSYOH: "#24936E",
  SABISEIJI: "#86A697",
  AOTAKE: "#00896C",
  VELUDO: "#096148",
  MUSHIAO: "#20604F",
  AIMIRUCHA: "#0F4C3A",
  "TONOCHA2": "#4F726C",
  AOMIDORI: "#00AA90",
  SEIJI: "#69B0AC",
  TETSU: "#26453D",
  MIZUASAGI: "#66BAB7",
  SEIHEKI: "#268785",
  SABITETSUONANDO: "#405B55",
  KORAINANDO: "#305A56",
  BYAKUGUN: "#78C2C4",
  OMESHICHA: "#376B6D",
  KAMENOZOKI: "#A5DEE4",
  FUKAGAWANEZUMI: "#77969A",
  SABIASAGI: "#6699A1",
  MIZU: "#81C7D4",
  ASAGI: "#33A6B8",
  ONANDO: "#0C4842",
  AI: "#0D5661",
  SHINBASHI: "#0089A7",
  SABIONANDO: "#336774",
  TETSUONANDO: "#255359",
  HANAASAGI: "#1E88A8",
  AINEZUMI: "#566C73",
  MASUHANA: "#577C8A",
  SORA: "#58B2DC",
  NOSHIMEHANA: "#2B5F75",
  CHIGUSA: "#3A8FB7",
  OMESHIONANDO: "#2E5C6E",
  HANADA: "#006284",
  WASURENAGUSA: "#7DB9DE",
  GUNJYO: "#51A8DD",
  TSUYUKUSA: "#2EA9DF",
  KUROTSURUBAMI: "#0B1013",
  KON: "#0F2540",
  KACHI: "#08192D",
  RURI: "#005CAF",
  RURIKON: "#0B346E",
  BENIMIDORI: "#7B90D2",
  FUJINEZUMI: "#6E75A4",
  TETSUKON: "#261E47",
  KONJYO: "#113285",
  BENIKAKEHANA: "#4E4F97",
  KONKIKYO: "#211E55",
  FUJI: "#8B81C3",
  FUTAAI: "#70649A",
  OUCHI: "#9B90C2",
  FUJIMURASAKI: "#8A6BBE",
  KIKYO: "#6A4C9C",
  SHION: "#8F77B5",
  MESSHI: "#533D5B",
  USU: "#B28FCE",
  HASHITA: "#986DB2",
  EDOMURASAKI: "#77428D",
  SHIKON: "#3C2F41",
  KOKIMURASAKI: "#4A225D",
  SUMIRE: "#66327C",
  MURASAKI: "#592C63",
  AYAME: "#6F3381",
  FUJISUSUTAKE: "#574C57",
  BENIFUJI: "#B481BB",
  KUROBENI: "#3F2B36",
  NASUKON: "#572A3F",
  BUDOHNEZUMI: "#5E3D50",
  HATOBANEZUMI: "#72636E",
  KAKITSUBATA: "#622954",
  EBIZOME: "#6D2E5B",
  BOTAN: "#C1328E",
  UMEMURASAKI: "#A8497A",
  NISEMURASAKI: "#562E37",
  TSUTSUJI: "#E03C8A",
  MURASAKITOBI: "#60373E",
  SHIRONERI: "#FCFAF2",
  GOFUN: "#FFFFFB",
  SHIRONEZUMI: "#BDC0BA",
  GINNEZUMI: "#91989F",
  NAMARI: "#787878",
  HAI: "#828282",
  SUNEZUMI: "#787D7B",
  RIKYUNEZUMI: "#707C74",
  NIBI: "#656765",
  AONIBI: "#535953",
  DOBUNEZUMI: "#4F4F48",
  BENIKESHINEZUMI: "#52433D",
  AISUMICHA: "#373C38",
  BINROJIZOME: "#3A3226",
  KESHIZUMI: "#434343",
  SUMI: "#1C1C1C",
  KURO: "#080808",
  RO: "#0C0C0C"
};

const list = Object.keys(palette);
const nameRegex = /nippon\-color\(([a-zA-Z]+)\)/;

module.exports = postcss.plugin('postcss-nippon-color', () =>
  css => css.walkRules(rule =>
    rule.walkDecls(decl => {
      if(decl.value.includes('nippon-color')) {
        const target = nameRegex.test(decl.value)
          ? decl.value.match(nameRegex)[1]
          : list[Math.floor(Math.random() * list.length)];

        if(target && target.toUpperCase() in palette)
          decl.value = palette[target.toUpperCase()];
      }
    })
  )
);
